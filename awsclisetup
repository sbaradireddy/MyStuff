To install and set up the AWS CLI on a Jenkins instance, follow these steps:

1. Install AWS CLI

For Ubuntu/Linux-based Jenkins Instances:

	1.	Update the package manager:

sudo apt update


	2.	Install the AWS CLI using the package manager:

sudo apt install awscli -y

Alternatively, if you need the latest version:

curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install


	3.	Verify the installation:

aws --version



For Windows Jenkins Instances:

	1.	Download the AWS CLI Installer:
Download the latest Windows version from the AWS CLI download page.
	2.	Run the installer and follow the prompts.
	3.	Verify the installation:
Open PowerShell or Command Prompt and run:

aws --version



2. Configure the AWS CLI

	1.	Set up AWS credentials:
Run the following command in the terminal:

aws configure


	2.	Provide the following details:
	•	AWS Access Key ID
	•	AWS Secret Access Key
	•	Default region name (e.g., us-east-1)
	•	Default output format (e.g., json, text, or table)
You can retrieve the Access Key and Secret Key from your AWS IAM user or role that Jenkins will use.

3. Ensure Jenkins Can Access the AWS CLI

If Jenkins runs as a service (Linux or Windows), the AWS CLI configuration may need to be available for the Jenkins user.

	•	Linux: AWS CLI will be available to Jenkins if it runs as a service because it’s typically installed in a global directory like /usr/local/bin. If Jenkins runs under a different user, ensure that user has permission to use the AWS CLI configuration file (~/.aws/credentials).
	•	Windows: Make sure Jenkins has appropriate permission to access the installed AWS CLI and the credentials file.

4. Use AWS CLI in Jenkins Jobs

	1.	Open Jenkins and go to your job.
	2.	Configure a build step to run shell or batch commands, depending on your OS.
	3.	Add AWS CLI commands like:

aws s3 ls

or any other AWS operations you need.

Optional - Add AWS CLI to Jenkins Global Path

You can add the AWS CLI binary to the global path in Jenkins:

	1.	Go to Manage Jenkins > Global Tool Configuration.
	2.	Scroll to the section Path to AWS CLI and add the path if necessary (e.g., /usr/local/bin/aws).

This setup allows Jenkins to execute AWS commands in build pipelines seamlessly.